{"version":3,"sources":["coreui.info.js","coreui.info.instance.js"],"names":["CoreUI","info","_instances","create","options","let","instance","$","extend","this","infoId","_init","Object","getId","get","id","hasOwnProperty","message","title","type","render","warning","danger","success","_hashCode","_crc32","Date","getTime","Math","random","toString","str","o","c","a","f","n","t","length","charCodeAt","_options","onClose","onClosed","isClose","initEvents","element","document","getElementById","that","addEventListener","event","tplTitle","tplMessage","tplClose","tpl","domElement","HTMLElement","append","close","bootstrap","Alert","getOrCreateInstance"],"mappings":"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","file":"coreui.info.min.js","sourcesContent":["\nvar CoreUI = typeof CoreUI !== 'undefined' ? CoreUI : {};\n\nCoreUI.info = {\n\n    _instances: {},\n\n    /**\n     * @param options\n     */\n    create: function (options) {\n\n        let instance = $.extend({}, this.instance);\n        instance._init(options instanceof Object ? options : {});\n\n        let infoId = instance.getId();\n        this._instances[infoId] = instance;\n\n        return instance;\n    },\n\n\n    /**\n     * @param {string} id\n     * @returns {CoreUI.info.instance|null}\n     */\n    get: function (id) {\n\n        if ( ! this._instances.hasOwnProperty(id)) {\n            return null;\n        }\n\n        if ($('#coreui-info-' + this._instances[id])[0]) {\n            delete this._instances[id];\n            return null;\n        }\n\n        return this._instances[id];\n    },\n\n\n    /**\n     *\n     * @param message\n     * @param title\n     * @param options\n     */\n    info: function (message, title, options) {\n\n        options = typeof options === 'object' ? options : {};\n        options.type    = \"info\";\n        options.title   = title;\n        options.message = message;\n\n        return this.create(options).render();\n    },\n\n\n    /**\n     * @param message\n     * @param title\n     * @param options\n     */\n    warning: function (message, title, options) {\n\n        options = typeof options === 'object' ? options : {};\n        options.type    = \"warning\";\n        options.title   = title;\n        options.message = message;\n\n        return this.create(options).render();\n    },\n\n\n    /**\n     * @param message\n     * @param title\n     * @param options\n     */\n    danger: function (message, title, options) {\n\n        options = typeof options === 'object' ? options : {};\n        options.type    = \"danger\";\n        options.title   = title;\n        options.message = message;\n\n        return this.create(options).render();\n    },\n\n\n    /**\n     * @param message\n     * @param title\n     * @param options\n     */\n    success: function (message, title, options) {\n\n        options = typeof options === 'object' ? options : {};\n        options.type    = \"success\";\n        options.title   = title;\n        options.message = message;\n\n        return this.create(options).render();\n    },\n\n\n    /**\n     * @returns {string}\n     * @private\n     */\n    _hashCode: function() {\n        return this._crc32((new Date().getTime() + Math.random()).toString()).toString(16);\n    },\n\n\n    /**\n     * @param str\n     * @returns {number}\n     * @private\n     */\n    _crc32: function (str) {\n\n        for (var a, o = [], c = 0; c < 256; c++) {\n            a = c;\n            for (var f = 0; f < 8; f++) {\n                a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1\n            }\n            o[c] = a\n        }\n\n        for (var n = -1, t = 0; t < str.length; t++) {\n            n = n >>> 8 ^ o[255 & (n ^ str.charCodeAt(t))]\n        }\n\n        return (-1 ^ n) >>> 0;\n    }\n}","\nvar CoreUI = typeof CoreUI !== 'undefined' ? CoreUI : {};\n\nCoreUI.info.instance = {\n\n    _options: {\n        id: '',\n        type: '',\n        title: '',\n        message: '',\n        onClose: null,\n        onClosed: null,\n        isClose: false,\n    },\n\n\n    /**\n     *\n     * @param options\n     */\n    _init: function (options) {\n\n        this._options = $.extend({}, this._options, options);\n\n        if ( ! this._options.id) {\n            this._options.id = CoreUI.info._hashCode();\n        }\n\n        this._options.type = options.hasOwnProperty('type') && typeof options.type === 'string'\n            ? options.type\n            : 'light';\n\n        this._options.onClosed = options.hasOwnProperty('onClosed') && typeof options.onClosed === 'function'\n            ? options.onClosed\n            : null;\n\n        this._options.onClose = options.hasOwnProperty('onClose') && typeof options.onClose === 'function'\n            ? options.onClose\n            : null;\n\n        this._options.isClose = options.hasOwnProperty('isClose') && typeof options.isClose;\n    },\n\n\n    /**\n     *\n     */\n    initEvents: function () {\n\n        const element = document.getElementById('info-' + this._options.id)\n\n        if ( ! element) {\n            return;\n        }\n\n        let that = this;\n\n        element.addEventListener('close.bs.alert', event => {\n            if (typeof that._options.onClose === 'function') {\n                that._options.onClose(event);\n            }\n        });\n\n        element.addEventListener('closed.bs.alert', event => {\n            if (typeof that._options.onClosed === 'function') {\n                that._options.onClosed(event);\n            }\n        });\n    },\n\n\n    /**\n     * @param element\n     * @returns {string}\n     */\n    render: function (element) {\n\n        let tplTitle = this._options.title\n            ? '<h4>' + this._options.title + '</h4>'\n            : '';\n\n        let tplMessage = this._options.message\n            ? '<div>' + this._options.message + '</div>'\n            : '';\n\n        let tplClose = this._options.isClose\n            ? '<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>'\n            : '';\n\n\n        let tpl =\n            '<div class=\"alert alert-' + this._options.type + ' alert-dismissible fade show\" id=\"info-' + this._options.id + '\">' +\n                tplTitle +\n                tplMessage +\n                tplClose +\n            '</div>';\n\n\n        if ( ! element) {\n            return tpl;\n        }\n\n        // Dom element\n        let domElement = {};\n\n        if (typeof element === 'string') {\n            domElement = document.getElementById(element);\n\n            if ( ! domElement) {\n                return '';\n            }\n\n        } else if (element instanceof HTMLElement) {\n            domElement = element;\n        }\n\n\n        $(domElement).append(tpl);\n        this.initEvents();\n    },\n\n\n    /**\n     *\n     */\n    close: function () {\n\n        if ( ! $('#info-' + this._options.id)[0]) {\n            return;\n        }\n\n        const alert = bootstrap.Alert.getOrCreateInstance('#info-' + this._options.id)\n        alert.close();\n    },\n\n\n    /**\n     *\n     */\n    getId: function () {\n        return this._options.id;\n    }\n}"]}